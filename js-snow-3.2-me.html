<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		body,div{margin: 0;padding: 0;}
		#curtain{
			width: 800px;
			height: 800px;
			background-color: #111123;
		}
		.snow{
			width: 10px;
			height: 10px;
			border-radius: 50%;
			background: #fff;
			position: absolute;
			animation: mysnow 10s;
		}
		@keyframes mysnow{
			0%{opacity: 0;}
			50%{opacity: 1;}
			100%{opacity: 0;}
		}
		.empty{
			display: none;
		}
	</style>
	<script type="text/javascript">
		window.onload=function(){
			var singleSnow=function(){};
			var curtain=document.getElementById("curtain");
			var maxWidth=curtain.clientWidth-50;
			var maxHeight=curtain.clientHeight;
			var oBody=document.getElementsByTagName("body")[0];
			var range=20;

			singleSnow.prototype.init=function(){
				this.snowDiv=document.createElement("div");
				this.snowDiv.className="snow";
				this.snowDiv.style.top=Math.ceil(Math.random()*50)+"px";
				this.snowDiv.style.left=Math.ceil(Math.random()*maxWidth)+"px";
				curtain.appendChild(this.snowDiv);

				this.speed=Math.floor((Math.random()*4+1)*100)/100;
				// this.shake=Math.random()*1;
				//为了得到两位的随机数
				return this;
			};

			singleSnow.prototype.move=function(){
				var oThis=this;
				var timer=setInterval(function(){
					this.positionY=parseInt(oThis.snowDiv.style.top)+oThis.speed;
					// this.positionX=parseInt(oThis.snowDiv.style.left)+oThis.shake;
					// console.log(this.positionX);
	
					if(this.positionY>maxHeight){
						oThis.snowDiv.className="empty";
						clearInterval(timer);
					}else{
						oThis.snowDiv.style.top=this.positionY+"px";
						// oThis.snowDiv.style.left=this.positionX+"px";
					}
					console.log("a");
				},50);
			};

			var snowObj=new singleSnow();

			snowObj.init().move();


		};
	</script>
</head>
<body>
	<div id="curtain"></div>
</body>
</html>